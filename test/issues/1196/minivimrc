set nocompatible
let &rtp = '~/.vim/bundle/vimtex,' . &rtp
let &rtp .= ',~/.vim/bundle/vimtex/after'
filetype plugin indent on
syntax enable

nnoremap q :qall!<cr>

set shiftwidth=2
set expandtab

silent edit minimal.tex

silent! normal! gg}=}
let s:expected = getline(11,18)
let s:result = getline(4,10)
if s:result == s:expected
  echo "SUCCESS\n"
else
  for s:line in ['Result'] + s:result + ["\nExpected"] + s:expected
    echo s:line
  endfor
  echo ''
endif
quitall!
